function _extends(){_extends=Object.assign||function(d){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var a in c){if(Object.prototype.hasOwnProperty.call(c,a)){d[a]=c[a];
}}}return d;};return _extends.apply(this,arguments);}
/*!
 * Custom Select jQuery Plugin
 */
var CustomSelect=function(a){var b={block:"custom-select",hideCallback:false,includeValue:false,keyboard:true,modifier:false,placeholder:false,search:false,showCallback:false,transition:0,topspace:0,visibleItems:5};
var c=function(){function j(p,q){this._$select=a(p);this._options=_extends({},b,typeof q==="object"&&q);this._activeModifier=this._options.block+"--active";
this._dropupModifier=this._options.block+"--dropup";this._keydown=this._keydown.bind(this);this._dropup=this._dropup.bind(this);this._outside=this._outside.bind(this);
this._init();}var n=j.prototype;n._init=function o(){var p=this;this._$element=a('<div class="'+this._options.block+'">\n           <button class="'+this._options.block+"__option "+this._options.block+'__option--value" type="button"></button>\n           <div class="'+this._options.block+'__dropdown"><div class="'+this._options.block+'__dropdown-inner"></div></div>\n         </div>');
this._$select.hide().after(this._$element);if(this._options.modifier){this._$element.addClass(this._options.modifier);}this._$values=this._$select.find("option");
this._values=[];a.each(this._$values,function(q,s){var r=a(s).text().trim();p._values.push(r);});this._$value=this._$element.find("."+this._options.block+"__option--value");
if(this._options.placeholder){if(this._$select.find("[selected]").length){this._options.placeholder=false;}else{this._$value.html(this._options.placeholder);
this._$select.prop("selectedIndex",-1);}}this._$dropdown=this._$element.find("."+this._options.block+"__dropdown");this._$dropdownInner=this._$element.find("."+this._options.block+"__dropdown-inner");
a.each(this._values,function(r,s){var q=p._$values.eq(r).attr("class");var t=a('<button class="'+p._options.block+'__option" type="button">'+s+"</button>");
if(s===p._$select.find(":selected").text().trim()){p._$value.text(s).addClass(q).data("class",q);if(p._options.includeValue||p._options.placeholder){t.addClass(q);
p._$dropdownInner.append(t);}}else{t.addClass(q);p._$dropdownInner.append(t);}});this._$options=this._$dropdownInner.find("."+this._options.block+"__option");
if(this._options.search){this._search();}this._$value.one("click",function(q){p._show(q);});if(!this._$options.length){this._$value.prop("disabled",true);
}this._$options.on("click",function(q){p._select(q);});};n._show=function l(q){var p=this;q.preventDefault();this._dropup();a(window).on("resize scroll",this._dropup);
this._$element.addClass(this._activeModifier);setTimeout(function(){if(p._options.search){p._$input.focus();if(p._options.includeValue){p._scroll();}}if(typeof p._options.showCallback==="function"){p._options.showCallback.call(p._$element[0]);
}},this._options.transition);setTimeout(function(){var r="ontouchstart" in document.documentElement?"touchstart":"click";a(window).on(r,p._outside);},0);
this._$value.one("click",function(r){r.preventDefault();p._hide();});if(this._options.keyboard){this._options.index=-1;a(window).on("keydown",this._keydown);
}};n._hide=function h(){var p=this;if(this._options.search){this._$input.val("").blur();this._$options.show();this._$wrap.scrollTop(0);}setTimeout(function(){p._$element.removeClass(p._activeModifier).removeClass(p._dropupModifier);
if(typeof p._options.hideCallback==="function"){p._options.hideCallback.call(p._$element[0]);}a(window).off("touchstart click",p._outside).off("resize scroll",p._dropup);
p._$value.off("click").one("click",function(q){p._show(q);});},this._options.transition);if(this._options.keyboard){this._$options.blur();a(window).off("keydown",this._keydown);
}};n._scroll=function f(){var p=this;this._$options.each(function(s,t){var v=a(t);if(v.text()===p._$value.text()){var u=v.position().top;var r=p._$wrap.outerHeight();
var q=r/2-v.outerHeight()/2;if(u>q){p._$wrap.scrollTop(u-q);}return false;}});};n._select=function g(t){var r=this;t.preventDefault();var q=a(t.currentTarget).text().trim();
var p=this._values.concat();this._$value.text(q).removeClass(this._$value.data("class"));this._$values.prop("selected",false);a.each(p,function(u,v){if(!r._options.includeValue&&v===q){p.splice(u,1);
}a.each(r._$values,function(x,y){var z=a(y);if(z.text().trim()===q){var w=z.attr("class");z.prop("selected",true);r._$value.addClass(w).data("class",w);
}});});this._hide();if(!this._options.includeValue){if(this._$options.length>p.length){var s=this._$options.eq(p.length);s.remove();this._$options=this._$options.not(s);
if(!this._$options.length){this._$value.prop("disabled",true);}}a.each(this._$options,function(u,v){var w=a(v);w.text(p[u]);w.attr("class",r._options.block+"__option");
a.each(r._$values,function(){var x=a(this);if(x.text().trim()===p[u]){w.addClass(x.attr("class"));}});});}if(typeof t.originalEvent!=="undefined"){this._$select.trigger("change");
}};n._search=function k(){var p=this;this._$input=a('<input class="'+this._options.block+'__input" autocomplete="off">');this._$dropdownInner.prepend(this._$input);
this._$options.wrapAll('<div class="'+this._options.block+'__option-wrap"></div>');this._$wrap=this._$element.find("."+this._options.block+"__option-wrap");
this._$input.on("focus",function(){p._options.index=-1;});this._$input.on("keyup",function(){var q=p._$input.val().trim();if(q.length){p._$wrap.scrollTop(0);
setTimeout(function(){if(q===p._$input.val().trim()){a.each(p._$options,function(s,t){var u=a(t);var v=u.text().trim().toLowerCase();var r=v.indexOf(q.toLowerCase())!==-1;
u.toggle(r);});}},300);}else{p._$options.show();}});};n._dropup=function d(){var q=this._$element[0].getBoundingClientRect().bottom;var r=a(document).height()-(a(this._$element[0]).offset().top+a(this._$element[0]).height()+this._$dropdown.height());
var s=(a(window).scrollTop()+this._options.topspace)-(a(this._$element[0]).offset().top-this._$dropdown.height());var p=a(window).height()-q<this._$dropdown.height();
console.log((a(window).scrollTop()+this._options.topspace)+" - "+(a(this._$element[0]).offset().top-this._$dropdown.height()));if(r>=0&&p&&s>0){p=false;
}this._$element.toggleClass(this._dropupModifier,p);};n._outside=function m(q){var p=a(q.target);if(!p.parents().is(this._$element)&&!p.is(this._$element)){this._hide();
}};n._keydown=function e(s){var r=this._$options.filter(":visible");switch(s.keyCode){case 40:s.preventDefault();var p=r.eq(this._options.index+1).length;
if(p){this._options.index+=1;}else{this._options.index=0;}r.eq(this._options.index).focus();break;case 38:s.preventDefault();var q=r.eq(this._options.index-1).length;
if(q&&this._options.index-1>=0){this._options.index-=1;}else{this._options.index=r.length-1;}r.eq(this._options.index).focus();break;case 13:case 32:if(!this._$input||!this._$input.is(":focus")){s.preventDefault();
var t=this._$options.add(this._$value).filter(":focus");t.trigger("click");if(!t.is(this._$value)){this._$select.trigger("change");}this._$value.focus();
}break;case 27:s.preventDefault();this._hide();this._$value.focus();break;default:break;}};j._jQueryPlugin=function i(p){return this.each(function(){var r=a(this);
var q=r.data("custom-select");if(!q){q=new j(this,p);r.data("custom-select",q);}});};return j;}();a.fn.customSelect=c._jQueryPlugin;a.fn.customSelect.noConflict=function(){return a.fn.customSelect;
};return c;}($);